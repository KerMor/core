classdef KernelInterpol
    %KERNELINTERPOL Summary of this class goes here
    %   Detailed explanation goes here
    
    properties
        K;
    end
    
    methods
        function a = interpolate(this, fxi)
            a = this.K\fxi;
        end
    end
    
    methods(Static)
        function test_ScalarSVR
            % Performs a test of this class
            
            x = -5:.1:5;
            fx = sinc(x);
            
            
            n = length(x);
            samp = 1:3:n;
            xi = x(samp);
            fxi = fx(samp);
            
            svr = general.regression.ScalarSVR;
            svr.eps = .2;
            svr.C = 10;
            %kernel = kernels.PolyKernel(2);
            %kernel = kernels.LinearKernel;
            kernel = kernels.RBFKernel(1);
            svr.K = kernel.evaluate(xi,xi);
            
            figure(1);
            plot(x,fx,'r',x,[fx-svr.eps; fx+svr.eps],'r--');
            
            
            
            [a] = svr.interpolate(fx(samp));
            
            svfun = @(x)ai'*kernel.evaluate(sv,x) + b;
            
            fsvr = svfun(x);
            
            hold on;
            
            % Plot approximated function
            plot(x,fsvr,'b',x,[fsvr-svr.eps; fsvr+svr.eps],'b--');
            skipped = setdiff(1:length(x),svidx);
            plot(sv,fx(svidx),'.r',x(skipped),fx(skipped),'xr');
            
            hold off;
        end
        
    end
    
end

